---
title: "Integrated KSAO Framework for Substance Use Disorder Counselors"
subtitle: "A Comprehensive Competency Map Derived from CASAC Textbook Analysis"
author: "Bryan Acton, PhD | Binghamton University<br>with assistance from Claude Code AI system"
date: today
format: 
  html:
    toc: true
    number-sections: true
    theme: flatly
    css: styles.css
    code-fold: true
    include-in-header:
      text: |
        <style>
        .title {
          font-size: 2.5em;
          text-align: center;
          margin-bottom: 0.5em;
        }
        .subtitle {
          font-size: 1.5em;
          text-align: center;
          margin-bottom: 2em;
        }
        .author, .date {
          text-align: center;
        }
        .callout {
          padding: 1.25rem;
          margin-top: 1.25rem;
          margin-bottom: 1.25rem;
          border: 1px solid #e9ecef;
          border-left-width: .5rem;
          border-radius: .25rem;
        }
        .callout-note {
          border-left-color: #5bc0de;
          background-color: #f8f9fa;
        }
        .callout-important {
          border-left-color: #d9534f;
          background-color: #f8f9fa;
        }
        .callout-tip {
          border-left-color: #5cb85c;
          background-color: #f8f9fa;
        }
        .model-info {
          background-color: #f0f0f0;
          border: 1px solid #ddd;
          border-radius: 5px;
          padding: 15px;
          margin-bottom: 20px;
        }
        .section-box {
          background-color: #f9f9f9;
          border: 1px solid #e1e1e1;
          border-radius: 5px;
          padding: 20px;
          margin-bottom: 30px;
          box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        </style>
  pdf:
    toc: true
    number-sections: true
    colorlinks: true
    documentclass: report
    geometry:
      - margin=1in
    include-in-header:
      text: |
        \usepackage{xcolor}
        \usepackage[most]{tcolorbox}
        \usepackage{fancyhdr}
        \usepackage{graphicx}
        \pagestyle{fancy}
        \fancyhead[L]{KSAO Framework}
        \fancyhead[R]{\thepage}
        \definecolor{modelcolor}{RGB}{240,240,240}
        \definecolor{sectioncolor}{RGB}{249,249,249}
execute:
  echo: false
---

```{r setup}
#| include: false
library(readr)
library(knitr)
library(dplyr)
```

![](../CASAC 350 HR Program.pdf){.cover-image fig-align="center" width=50%}

::: {.model-info}
## Analysis Information

**Source Document:** Credentialed Alcoholism and Substance Abuse Counselor (CASAC) Textbook  
**Analysis Date:** `r format(Sys.Date(), "%B %d, %Y")`  
**Model Used:** Google Gemini 2.5 Pro Preview  
**Chapters Analyzed:** Chapters 1-9 and Appendices (Complete Textbook Analysis)  
**Analysis Type:** Comprehensive KSAO Extraction and Integration
:::

# Introduction {.section-box}

This document presents the integrated Knowledge, Skills, Abilities, and Other Characteristics (KSAOs) framework for substance use disorder counselors, derived from a comprehensive analysis of the CASAC (Credentialed Alcoholism and Substance Abuse Counselor) certification textbook. The analysis includes a complete examination of all textbook materials (Chapters 1-9 and Appendices), using Google's Gemini 2.5 Pro model to systematically identify, categorize, and integrate professional competencies.

This framework is designed to serve as a foundation for evidence-based workforce development in addiction counseling, moving beyond traditional certification requirements to focus on actual competencies required for effective practice.

## Advanced Technical Pipeline: A Multi-Stage AI-Assisted KSAO Extraction Process

This framework was not generated by a single AI prompt. Instead, it is the result of a sophisticated, multi-stage technical pipeline involving sequential AI processing, human coordination, and system integration:

### Stage 1: OCR Text Extraction
- **Input**: High-resolution TIFF scans of textbook chapters (11 files totaling hundreds of pages)
- **Process**: Each chapter was processed separately using Gemini 2.5 Pro's multimodal capabilities
  - Batch processing with 3-page batches to manage API constraints
  - Specialized OCR prompt engineered for textbook content with tables and images
  - Automated retry mechanisms for challenging pages
  - Background process management to handle timeouts and continuity
- **Output**: Structured text files for each chapter stored in `data/gemini_text_output/`
- **Technical details**: Executed via `gemini_ocr.py` and `process_chapter_batches.sh`

### Stage 2: Chapter-Level KSAO Analysis
- **Input**: Extracted text files from Stage 1
- **Process**: Independent detailed analysis for each chapter
  - Each chapter isolated in temporary directory for focused processing
  - Specialized prompt for KSAO extraction with structured attribute requirements
  - Systematic thinking trace capture (up to 24,576 tokens per chapter)
  - Background process management with logging
- **Output**: For each chapter:
  - Detailed KSAO analysis document
  - Structured thinking process showing extraction methodology
  - Combined text reference document
- **Technical details**: Executed via `src/ksao/analyze_full_textbook.py`

### Stage 3: KSAO Integration
- **Input**: All individual chapter KSAO analyses from Stage 2
- **Process**: Comprehensive integration across all chapter analyses
  - Identification of duplicate KSAOs across chapters
  - Resolution of classification inconsistencies
  - Synthesis of descriptions from multiple perspectives
  - Organization into dimensional framework
  - Mapping of hierarchical relationships and dependencies
- **Output**: Unified KSAO framework document with consistent structure and non-redundant competencies
- **Technical details**: Executed via `src/ksao/integrate_ksao_analyses.py`

### Stage 4: Thinking Trace Meta-Analysis
- **Input**: All thinking process files from Stage 2
- **Process**: Meta-analysis of AI reasoning patterns across chapters
  - Identification of effective methodological approaches
  - Recognition of common patterns in KSAO extraction
  - Documentation of generalizable principles
- **Output**: Detailed methodological insights document
- **Technical details**: Executed via `src/ksao/analyze_thinking_traces.py`

### Stage 5: Report Generation
- **Input**: Integrated framework and thinking trace analysis
- **Process**: Rendering of professional reports with enhanced styling
  - HTML reports with CSS styling
  - PDF reports via LaTeX/XeLaTeX
  - Interactive elements and responsive design
- **Output**: This document and companion methodology report
- **Technical details**: Executed via Quarto with `render_reports.sh`

This multi-stage approach ensures maximum accuracy, comprehensive coverage, and methodological transparency. The process can be replicated and extended to other professional domains and document sets.

# Methodology {.section-box}

## Data Sources

The analysis was conducted on the following chapters from the CASAC textbook:

::: {.callout-note}
1. **Chapter 1**: Covering SUD terminology, neurobiology, models of addiction, risk factors, stages of addiction, common substances, recovery principles, and the Stages of Change model.

2. **Chapter 2**: Focusing on systems of care, telehealth, harm reduction, trauma-informed systems, social determinants of health, and related topics.

3. **Chapter 3**: Covering screening, assessment, and treatment planning processes.

4. **Chapter 4**: Focusing on counseling methods and therapeutic approaches.

5. **Chapter 5**: Examining case management and service coordination.

6. **Chapter 6**: Covering evidence-based practices in substance use disorder treatment.

7. **Appendices**: Including commonly used drugs, mental health conditions, medications, and IC&RC domains and job tasks.
:::

## Analysis Process

The analysis followed a rigorous five-step process:

::: {.callout-tip}
1. **OCR Text Extraction**: Used Gemini 2.5 Pro's multimodal capabilities to extract text from TIFF images of textbook pages.

2. **Chapter-Level KSAO Analysis**: Each chapter was analyzed individually to identify KSAOs, with documentation of the thinking process.

3. **KSAO Integration**: Individual chapter analyses were integrated into a comprehensive framework, resolving redundancies and inconsistencies.

4. **Thinking Trace Analysis**: Meta-analysis of the AI's reasoning process to identify patterns and methodological insights.

5. **Report Generation**: Creation of comprehensive reports documenting the framework and analysis methodology.
:::

For each KSAO, the analysis identified:

- Clear name/title
- Complete description
- Classification (Knowledge, Skill, Ability, or Other characteristic)
- Specificity level (general or specialized)
- Related O*NET occupational categories
- Stability/malleability (fixed vs. developable)
- Explicit/tacit orientation (explicitly taught vs. tacitly acquired)
- Prerequisites or developmental relationships

::: {.callout-important}
**Prompt Used for KSAO Extraction:**

"You are an expert in curriculum development and competency mapping for substance use disorder (SUD) counselors. You need to analyze the following textbook content to identify the complete set of Knowledge, Skills, Abilities, and Other Characteristics (KSAOs) required for SUD counselors.

For each identified KSAO, provide:
1. A clear name/title
2. A complete description
3. The classification (Knowledge, Skill, Ability, or Other characteristic)
4. The specificity level (general or specialized)
5. Related O*NET occupational categories
6. Stability/malleability classification (whether this KSAO is relatively fixed or can be developed)
7. Explicit/tacit orientation (whether this is explicitly taught or tacitly acquired)
8. Prerequisites or developmental relationships (what must be learned before this)

Additionally, identify any hierarchical structure among these KSAOs:
- Which KSAOs represent dimensions vs. sub-dimensions
- How KSAOs relate to each other in terms of development sequence
- Which KSAOs serve as foundations for others"
:::

# Integrated KSAO Framework {.section-box}

```{r}
#| include: false
# Read the integrated framework file
framework_file <- "../output/full_analysis/integrated_ksao_framework.txt"
framework_text <- readLines(framework_file)

# Find where the actual framework starts (after the thinking process)
start_line <- which(grepl("^# INTEGRATED KSAO FRAMEWORK", framework_text, ignore.case = TRUE))
if(length(start_line) == 0) {
  # If exact heading not found, look for any heading that might indicate the framework
  start_line <- which(grepl("^#.*KSAO.*FRAMEWORK", framework_text, ignore.case = TRUE))
}

if(length(start_line) > 0) {
  framework_content <- framework_text[start_line:length(framework_text)]
} else {
  framework_content <- framework_text
}
```

```{r, results='asis'}
# Output the framework content
cat(paste(framework_content, collapse = "\n"))
```

# Hierarchical Structure and Developmental Relationships {.section-box}

This section presents the hierarchical organization of KSAOs, showing how they relate to each other in terms of:

1. **Dimensions vs. Sub-dimensions**: Major competency domains and their components
2. **Developmental Sequences**: The logical progression for acquiring competencies
3. **Foundational Relationships**: Which KSAOs serve as prerequisites for others

```{r}
#| include: false
# Find where the hierarchical structure section starts
hierarchy_start <- which(grepl("^# Hierarchical Structure", framework_text, ignore.case = TRUE))
if(length(hierarchy_start) == 0) {
  hierarchy_start <- which(grepl("^#.*Hierarchical|^#.*Structure|^#.*Relationships", framework_text, ignore.case = TRUE))
}

if(length(hierarchy_start) > 0 && hierarchy_start < start_line) {
  # If hierarchy section comes before the framework section
  hierarchy_end <- start_line - 1
  hierarchy_content <- framework_text[hierarchy_start:hierarchy_end]
} else if(length(hierarchy_start) > 0) {
  # If hierarchy section comes after the framework section
  hierarchy_content <- framework_text[hierarchy_start:length(framework_text)]
} else {
  hierarchy_content <- character(0)
}
```

```{r, results='asis'}
# Output the hierarchy content if it exists
if(length(hierarchy_content) > 0) {
  cat(paste(hierarchy_content, collapse = "\n"))
}
```

# Applications for Workforce Development {.section-box}

The integrated KSAO framework presented in this document can be applied in multiple ways to enhance workforce development in the field of substance use disorder counseling:

::: {.callout-note}
1. **Curriculum Design**: Educational institutions can use this framework to design comprehensive training programs that systematically address all required competencies.

2. **Certification Standards**: Certification bodies can align requirements with evidence-based KSAOs rather than solely focusing on knowledge or hours of training.

3. **Professional Development**: Practitioners can identify gaps in their skill set and target specific areas for improvement.

4. **Supervision Focus**: Clinical supervisors can use the framework to provide structured guidance for developing counselors.

5. **Assessment Tools**: The framework provides a foundation for developing assessment instruments to measure counselor competency.
:::

# Conclusion {.section-box}

This integrated KSAO framework represents a significant advancement in understanding the competencies required for effective substance use disorder counseling. By systematically extracting and organizing KSAOs from authoritative textbook material, this project demonstrates how AI-assisted analysis can support evidence-based workforce development.

The framework highlights the complex, multifaceted nature of SUD counseling, requiring a diverse set of knowledge areas, clinical and interpersonal skills, cognitive abilities, and professional characteristics. It also reveals the developmental nature of these competencies, with clear progression pathways and foundational relationships.

Future work should extend this analysis to the remaining textbook chapters to create a truly comprehensive framework, followed by validation studies with subject matter experts and practicing counselors.